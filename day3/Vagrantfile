
Vagrant.configure("2") do |config|
  config.vm.define "srv-zabbix" do |server|
   #server.vm.box = "sbeliakou/centos-7.3-x86_64-minimal"
   server.vm.box = "centos73-min.box"
   #server.vm.box_url = "https://atlas.hashicorp.com/sbeliakou/boxes/centos-7.3-x86_64-minimal"
   server.vm.box_url = "../centos73-min.box"
   server.vm.hostname = "srv-zabbix"
   server.vm.network "forwarded_port", guest: 80, host: 8080
   server.vm.network "private_network", ip: "192.168.56.10"
   server.vm.provider "virtualbox" do |vb|
     vb.memory = "2048"
   end

   server.vm.provision "shell", path: "scripts/server.sh"

 end
#client
  config.vm.define "zabbix-client" do |client|
   #client.vm.box = "sbeliakou/centos-7.3-x86_64-minimal"
   client.vm.box = "centos73-min.box"
   #client.vm.box_url = "https://atlas.hashicorp.com/sbeliakou/boxes/centos-7.3-x86_64-minimal"
   client.vm.box_url = "../centos73-min.box"
   client.vm.hostname = "zabbix-client"
   client.vm.network "private_network", ip: "192.168.56.11"
   client.vm.provider "virtualbox" do |vb|
     vb.memory = "1024"
   end

    client.vm.provision "shell", path: "scripts/agent.sh"

 end


end
